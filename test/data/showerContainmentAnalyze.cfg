# Test .cfg for EcalShowerContainmentAnalyzer
# author : Stefano Argiro'
# $Id: showerContainmentAnalyze.cfg,v 1.3 2007/07/16 14:07:09 meridian Exp $
#


process ecalTBanalysis  = {
       
 # input Source
   source = PoolSource {

 untracked vstring fileNames = {"castor:/castor/cern.ch/cms/archive/ecal/h4tb.pool-SM16/h4b.00013261.A.0.0.root"
#  untracked vstring fileNames = {"file:/home/argiro/ecalshowercont/data/h4b.00013261.A.0.0.root"

 }
                untracked int32 maxEvents = 10
	        untracked bool isBinary = true
   }
 ##############################################################################

   # Ecal unpacker
   include "EventFilter/EcalTBRawToDigi/data/ecalTBunpack.cfi"
    
   # Read 2006 offline DB 
   include "Configuration/EcalTB/data/readConfiguration2006_v1_fromFrontier.cff"   
   
   # Calo geometry service model
   include "Geometry/EcalTestBeam/data/cmsEcalIdealTBGeometryXML.cfi"
   include "MagneticField/Engine/data/volumeBasedMagneticField.cfi"
   include "Geometry/CaloEventSetup/data/CaloGeometry.cfi"


   # Reconstruction for 2006 rawData
   include "Configuration/EcalTB/data/localReco2006_rawData.cff"
   
	
    module ecal2006TBRecHit = EcalRecHitProducer {
     string uncalibRecHitProducer   = "ecal2006TBWeightUncalibRecHit"
     string EBuncalibRecHitCollection = "EcalUncalibRecHitsEB"
     string EEuncalibRecHitCollection = ""
     string EBrechitCollection        = "EcalRecHitsEB"
     string EErechitCollection        = ""
    }
     
  module analysis = EcalShowerContainmentAnalyzer{
  	 untracked InputTag EcalUnCalibratedRecHitsLabel=ecal2006TBWeightUncalibRecHit:EcalUncalibRecHitsEB
	 #untracked string OutputFile=""
         untracked string  IntercalibFile="/afs/cern.ch/cms/ECAL/testbeam/pedestal/2006/CALIBRATIONS/CMSSWcalibCoeff_SM16_TBH4_S1_V00-00-04.txt"

  }	

 es_module gapcorrection=EcalShowerContainmentCorrectionsESProducer{}

 es_source dummy = EmptyESSource {
    string recordName = "EcalShowerContainmentCorrectionsRcd"
     vuint32 firstValid = { 1 }
     bool iovIsRunNotTime = true
 }


 path p = {ecalTBunpack , localReco2006_rawData, ecal2006TBRecHit, analysis }

	
}
